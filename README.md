# festival_visitor

### 1. 배경
지역 축제는 단순히 일회성으로 진행되는 것이 아니라, 지역경제 활성화, 마케팅 수단 등 지역을 위한 개최되는 수는 지속적인 성장세를 보이고 있다. 하지만 축제의 양적 성장과는 별개로 축제의 질적 성장은 함께 이루어지지 않았다. 특히 축제 방문객들의 수요트렌드가 빠르게 변화하는 최근의 상황을 비춰볼 때, 수요예측을 통한 효과적이고 효율적인 축제계획 수립은 성공적인 축제 개최를 위해서도 반드시 필요한 부분이 되었다.[1]

### 2. 목표
'축제방문 수요 영향 요인'[2]의 논문을 참고해 방문객에 영향을 미칠 수 있는 입장료 유무 혹은 KTX 정차역 유무, 날씨가 축제 인원을   독립변수로 사용하고 트위터에 해당 축제에 관한 내용의 언급 내용의 감정분석을 진행해 영향을 미치는지 확인하고 최종적으로 축제인원을 예측하는 모델을 작성한다. 

### 3. 기대효과
지역축제를 개최를 계획하는 각 지역지자체에게 기간설정 및 날씨에 따른 방문객 변화등을 확인해보면서 최고의 경제 비용을 낼 수 있는 축제를 개최할 수 있게끔 정보를 제공해줄 수 있다. 

### 4. TODO 
- 사용할 데이터 수집   
  - 한국지역진흥재단에서 제공하는 축제정보 데이터(축제명, 관광객 수, 경제효과, 등급)
  - KTX 역 유무 확인하기
  - 해당 축제를 언급한 트위터 content 크롤링
- 데이터 전처리
  - 한국지역진흥재단에서 제공한 축제정보 데이터 결측값 확인 통일
    (축제 등급, 세부 지역, 축제이름 통일)
  - 축제 진행 중인 날짜에 맞춰 날씨 크롤링 및 삽입
  - 세부지역을 기준으로 KTX 유무 연결 (유:1, 무:0)
- 감정분석   
  https://github.com/park1200656/KnuSentiLex
  - tweet content 형태소 분류(Komoran)
  - 감정분석 사전도 형태소 분류 진행 (Kpmoran)
  - 자/모음으로 나타낸 감정표현 글자 처리
- 독립변수/종속변수 정하기
- 데이터 분할
- 변수 조합 탐색
- 예측모델 훈련
- 예측모델 평가
- 모델 확정
- 웹페이지 구축

### 5. 회귀분석
 #### 1) 다중 Regression    
 #### ![image](https://user-images.githubusercontent.com/52802393/83741275-f2f80d00-a692-11ea-86f4-78f10710b49a.png)
 ###### ![image](https://user-images.githubusercontent.com/52802393/83741108-bb896080-a692-11ea-8e92-92f279b89127.png)    
   => 단순히 회귀분석으로 진행하면 정확도가 낮아질 수밖에 없다. 
   => 훈련세트와 테스트 세트 둘다 R-sqare 값이 적다 == 과소적합    
 #### 2) 라쏘 
   https://bskyvision.com/193
   : feature 선택이 자동으로 이뤄진다.    
   1) Alpha: 계수를 0으로 보낼지를 조절하는 매개변수    
   2) Max_iter: 반복 실행하는 최대횟수
   3) Alpha값을 낮추면 모델의 복잡도가 증가해 훈련 세트와 테스트세트에서의 성능이 좋아진다.  
 #### ![image](https://user-images.githubusercontent.com/52802393/83741545-4c603c00-a693-11ea-88d2-fff75c3c765f.png)
   alpha값의 변화에 따라 선택되는 특성의 수가 달라진다.
   alpha를 기본으로 설정해도 최대의 특성의 수를 가지게 되어 변함이 없다. 
   => 문제점: 특성(feature)의 수가 적다.      
 #### 3) bass 모형 
   https://medium.com/@rkaahean/the-bass-diffusion-model-a-gentle-introduction-i-b9b4fe3cd94e  
     : 상품이나 서비스의 수요량을 추정하는 확산모형으로 수요량의 패턴을 S자 형태의 곡선으로 추정하는 모형      
      이전의 존재하는 값이 3개 이상이여야 Bass 모형을 이용해 값을 추정할 수 있다. => 추정 불가능한 값의 BASS weight을  0으로 설정한다.     
      BASS 모형을 이용해 값을 추정할 때 RMSE 값이 가장 적은 weigh를 선택한다. => 0.6일 때 가장 작은 RMSE 값을 가진다
#### 4) Hybrid 모형    
   http://kiss.kstudy.com/thesis/thesis-view.asp?key=3624376
   
   : 앞서 계산한 weigh를 이용해 hybrid 모형을 계산한다. 
   ![image](https://user-images.githubusercontent.com/52802393/83742106-f93ab900-a693-11ea-939d-834b96bae5cc.png)
         정확도가 0.7로 향상되었다. 



   


### 진행상황
|대분류|중분류|진행상황
|--------|------|--------|
|데이터 수집 및 가공|축제데이터 결측값 확인 및 채우기|O|
|데이터 수집 및 가공|기상청데이터 연결하기|O|
|데이터 수집 및 가공|KTX 노선 연결하기|O|
|데이터 수집 및 가공|트위터 감정분석|O|
|변수정의|독립변수 및 종속변수 확정|O|
|모델 구축 및 평가|데이터 분할|O|
|모델 구축 및 평가|예측 모델 훈련|O|
|모델 구축 및 평가|예측 모델 평가|O|
|웹페이지 구축|선택페이지|O|
|웹페이지 구축|결과페이지|O|


### References 
[1]권성수, 축제방문 수요 영향 요인(2017)   
[2]한국화관광연구원 보고서(2007)   
[3]유영준, 중력모형에 의한 지역축제 결정인자 (2003)   
[4] 김현, 지역축제 수요의 추정과 시장세분화에 관한 연구(2008)    
